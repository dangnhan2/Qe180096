{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/PE_SDN/qe180096/components/PostCard.tsx"],"sourcesContent":["import Link from 'next/link';\r\n\r\nexport interface Post {\r\n  _id: string; // MongoDB ID\r\n  name: string;\r\n  description: string;\r\n  imageUrl?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface PostCardProps {\r\n  post: Post;\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\nexport default function PostCard({ post, onDelete }: PostCardProps) {\r\n  return (\r\n    <div style={{ border: '1px solid #ccc', padding: '15px', marginBottom: '15px', borderRadius: '8px' }}>\r\n      <h3>{post.name}</h3>\r\n      <p>{post.description}</p>\r\n      {post.imageUrl && (\r\n        // eslint-disable-next-line @next/next/no-img-element\r\n        <img src={post.imageUrl} alt={post.name} style={{ maxWidth: '100%', height: 'auto', marginTop: '10px', borderRadius: '4px' }} />\r\n      )}\r\n      <div style={{ marginTop: '15px' }}>\r\n        <Link href={`/edit-post/${post._id}`} style={{ marginRight: '10px', textDecoration: 'none', color: 'blue' }}>\r\n          Edit\r\n        </Link>\r\n        <button onClick={() => onDelete(post._id)} style={{ background: 'red', color: 'white', border: 'none', padding: '8px 12px', cursor: 'pointer', borderRadius: '4px' }}>\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAAA;;;AAgBe,SAAS,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAiB;IAChE,qBACE,8OAAC;QAAI,OAAO;YAAE,QAAQ;YAAkB,SAAS;YAAQ,cAAc;YAAQ,cAAc;QAAM;;0BACjG,8OAAC;0BAAI,KAAK,IAAI;;;;;;0BACd,8OAAC;0BAAG,KAAK,WAAW;;;;;;YACnB,KAAK,QAAQ,IACZ,qDAAqD;0BACrD,8OAAC;gBAAI,KAAK,KAAK,QAAQ;gBAAE,KAAK,KAAK,IAAI;gBAAE,OAAO;oBAAE,UAAU;oBAAQ,QAAQ;oBAAQ,WAAW;oBAAQ,cAAc;gBAAM;;;;;;0BAE7H,8OAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAO;;kCAC9B,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAM,CAAC,WAAW,EAAE,KAAK,GAAG,EAAE;wBAAE,OAAO;4BAAE,aAAa;4BAAQ,gBAAgB;4BAAQ,OAAO;wBAAO;kCAAG;;;;;;kCAG7G,8OAAC;wBAAO,SAAS,IAAM,SAAS,KAAK,GAAG;wBAAG,OAAO;4BAAE,YAAY;4BAAO,OAAO;4BAAS,QAAQ;4BAAQ,SAAS;4BAAY,QAAQ;4BAAW,cAAc;wBAAM;kCAAG;;;;;;;;;;;;;;;;;;AAM9K","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///D:/PE_SDN/qe180096/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport Link from 'next/link';\nimport PostCard from '@/components/PostCard';\n// import SearchAndSort from '@/components/SearchAndSort';\n// import ConfirmationDialog from '@/components/ConfirmationDialog';\nimport { Post } from '@/components/PostCard';\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortOrder, setSortOrder] = useState('');\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [postIdToDelete, setPostIdToDelete] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchPosts = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const query = new URLSearchParams();\n      if (searchTerm) {\n        query.append('search', searchTerm);\n      }\n      if (sortOrder) {\n        query.append('sort', sortOrder);\n      }\n      const response = await fetch(`/api/posts?${query.toString()}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch posts');\n      }\n      const data: Post[] = await response.json();\n      setPosts(data);\n    } catch (err: any) {\n      setError(err.message || 'An unknown error occurred');\n    } finally {\n      setLoading(false);\n    }\n  }, [searchTerm, sortOrder]);\n\n  useEffect(() => {\n    fetchPosts();\n  }, [fetchPosts]);\n\n  const handleDeleteClick = (id: string) => {\n    setPostIdToDelete(id);\n    setShowConfirmDialog(true);\n  };\n\n  const confirmDelete = async () => {\n    if (!postIdToDelete) return;\n\n    try {\n      const response = await fetch(`/api/posts/${postIdToDelete}`, {\n        method: 'DELETE',\n      });\n      if (!response.ok) {\n        throw new Error('Failed to delete post');\n      }\n      fetchPosts(); // Tải lại danh sách sau khi xóa\n    } catch (err: any) {\n      setError(err.message || 'An unknown error occurred during deletion');\n    } finally {\n      setShowConfirmDialog(false);\n      setPostIdToDelete(null);\n    }\n  };\n\n  const cancelDelete = () => {\n    setShowConfirmDialog(false);\n    setPostIdToDelete(null);\n  };\n\n  return (\n    <div style={{ maxWidth: '800px', margin: '40px auto', padding: '20px', border: '1px solid #eee', borderRadius: '10px', boxShadow: '0 2px 10px rgba(0,0,0,0.05)' }}>\n      <h1 style={{ textAlign: 'center', marginBottom: '30px', color: '#333' }}>Post List</h1>\n\n      <div style={{ marginBottom: '20px', textAlign: 'right' }}>\n        <Link href=\"/create-post\" style={{ background: '#0070f3', color: 'white', padding: '10px 20px', borderRadius: '5px', textDecoration: 'none' }}>\n          Create New Post\n        </Link>\n      </div>\n\n      {/* <SearchAndSort\n        searchTerm={searchTerm}\n        onSearchChange={setSearchTerm}\n        sortOrder={sortOrder}\n        onSortChange={setSortOrder}\n      /> */}\n\n      {loading && <p style={{ textAlign: 'center' }}>Loading posts...</p>}\n      {error && <p style={{ textAlign: 'center', color: 'red' }}>Error: {error}</p>}\n      {!loading && !error && posts.length === 0 && <p style={{ textAlign: 'center' }}>No posts found.</p>}\n\n      <div style={{ marginTop: '20px' }}>\n        {!loading && !error && posts.map((post) => (\n          <PostCard key={post._id} post={post} onDelete={handleDeleteClick} />\n        ))}\n      </div>\n\n      {/* <ConfirmationDialog\n        isOpen={showConfirmDialog}\n        message=\"Are you sure you want to delete this post?\"\n        onConfirm={confirmDelete}\n        onCancel={cancelDelete}\n      /> */}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}